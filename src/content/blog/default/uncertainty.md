---
title: 物理实验之不确定度
description: '各类实验报告中，不确定度的计算规范。'
tags:
 - note
 - default
publishDate: 2024-03-14
updateDate: 2024-09-25
---
## 随机变量与误差
绝对误差 $\Delta x=x-x_0$，**你以为的（测量值）**减去**真实值**  
等精度测量和不等精度测量，这里讨论的都是等精度  
相对误差 $N=\dfrac{\Delta x}{|x_0|}{}$，绝对误差除以**真实值**  
真实值一般是不可能得到的，所以取约定真值（理论值/公认值），或者取多次测量的平均值 $\bar x$  

系统误差：大小、正负有某种规律  
随机误差  
存在多种分布形式，一般是正态分布，它是一种连续分布  
连续型随机变量的期望定义为 $E(x)=\displaystyle\int_{-\infty}^{+\infty} xf(x) {\rm d}x$  
连续型随机变量的方差定义为 $D(x)=\displaystyle\int_{-\infty}^{+\infty} [x-E(x)]^2f(x) {\rm d}x$  
正态分布密度函数 $f(x)=\dfrac{1}{\sigma\sqrt{2\pi}}e^{\tfrac{-(x-\mu)^2}{2\sigma^2}}{}$  
$\mu$ 为期望（平均值），$\sigma$ 为**标准差**  
平均值附近的区间 $(\mu-k\sigma,\mu+k\sigma)$ 称为置信区间，其中 $k$ 为置信因子，这个区间上的概率称为置信概率；正态分布中 $k=3$ 的置信概率达到了 99.73%，可以认为这个区间以外的数据异常（3σ原则）  

有限（$n$）次测量  
样本平均值 $\bar x=\dfrac 1n \sum\limits^n x_i$   
样本方差 $\hat{S_n}^2=\dfrac {1}{n-1} \sum\limits^n (x_i-\bar x)^2$  
理解上，这个式子是“Σ 频率×数据”；记真实的方差为 $\sigma^2$，真实的平均值为 $\mu$  
为什么是 $n-1$ 而不是 $n$：[这里做了详细推导](https://zhuanlan.zhihu.com/p/550427703)。结论：除以 $n-1$ 的值是“无偏估计”，也就是说这个值将回归到真实的方差 $\sigma^2$；而如果除以 $n$，得到的结果是 $\dfrac{n-1}{n}\sigma^2$，这个数只有在 $n \to \infty$ 时才为真实的方差。理解上：给出的这个公式计算方差之前已经定好了样本平均值，也就是已经选定了 $n$ 个数，这使得只要确定 $n-1$ 个数，最后一个数就已经确定了；而如果将上面的公式中 $\bar x$ 改为真实的平均值 $\mu$，那么就要除以 $n$ 而不是 $n-1$，因为真实平均值并没有限定这 $n$ 个数，选定了 $n-1$ 个数之后，最后一个数无法确定。还有一种更傻瓜式的解读，样本的方差一般是要比总体的方差要低一些，所以要除以一个较小的数使得总体方差稍微大一些。  

任意一次测量的实验标准偏差 ${S_x}=\sqrt{\dfrac {\sum\limits^n (x_i-\bar x)^2}{n-1}}{}$（贝塞尔公式）  
平均值的实验标准偏差 $S_{\bar x}=\dfrac{S_x}{\sqrt n}{}$  

**三个“精度”**：
- 精密度 Precision 指数据比较集中
- 准确度 Correctness 指数据平均值离真实值比较近（数据均匀分布在真实值周边）
- 精确度 Accuracy 指精密度和准确度都很好

## 不确定度
- A 类标准不确定度：用统计方法计算得出的不确定度
- B 类标准不确定度：用其他方法计算得出的不确定度

对某一被测的量，做了 $n$ 次等精度独立测量，则：
- 任意一次测量的 A 类标准不确定度 $u_A(x)=S_x=\sqrt{\dfrac {\sum\limits^n (x_i-\bar x)^2}{n-1}}{}$
- 平均值的 A 类标准不确定度 $u_A(\bar x)=S_{\bar x}=\sqrt{\dfrac{\sum\limits^n (x_i-\bar x)^2}{n(n-1)}}{}$
- 记测量仪器本身的允许误差极限为 $\Delta_{\rm ins}{}$，置信因子为 $k$，则 B 类标准不确定度 $u_B=\dfrac{\Delta_{\rm ins}}{k}{}$。其中
	- 当测量误差服从均匀分布（如电子计数器的量化、仪器刻度盘示值的分辨力、平衡指示仪的调零、度盘与齿轮的空程差、数据切尾等）、置信概率取 100% 时，经计算可知 $k=\sqrt 3$
	- $\Delta_{\rm ins}{}$ 可以近似等于最小分度值的一半

合成标准不确定度 $u_C=\sqrt{u_A^2+u_B^2}{}$，若有若干组不同的 AB 类不确定度，则各自平方全部相加再开根号

## 测量结果的表示
对被测量 X，我们表示为 $X=\bar x(u_C)$（若只有一组值则 $\bar x=x$），例如 $L=114.51(0.05) \rm mm$，其中 114.51mm 是最佳估计值（最佳估计值带符号）

若是间接测量量，例如待测量 $\Phi$ 是 $N$ 个相互独立的直接测量量的函数 $\Phi=F(x_1,\cdots,x_n)$，那么有标准不确定度传递公式 $u_C(\Phi)=\sqrt{\sum\limits^N_{i=1}(\dfrac{\partial\Phi}{\partial x_i})^2u_C^2(x_i)}{}$，最后表示为 $\Phi=\phi(u_C(\Phi))$

标准相对不确定度 $E=\dfrac{u_C}x$，其中 x 是最佳估计值，是一个无量纲数，一般表示成百分数

若是间接测量量，则由上面公式有 $E=\dfrac{u_C(\Phi)}{\Phi}=\sqrt{\sum\limits^N_{i=1}(\dfrac{\partial ln\Phi}{\partial x_i})^2u_C^2(x_i)}{}$

## 有效数字
有效数字与单位无关，114.5mm=11.45cm=0.1145m，始终是 4 位有效数字

修约：四舍六入五凑偶。
- ≤4 ，直接舍去
- ≥6 ，进一
- 若为 5
	- 当 5 后有有效数字时，进一
	- 当 5 后无有效数字时
		- 5 前为奇数时，进一凑成偶数
		- 5 前为偶数时，直接舍去

举例：保留两位小数
- 9.8249≈9.82
- 9.82671≈9.83
- 9.8350≈9.84
- 9.83501≈9.84
- 9.8250≈9.82
- 9.82501≈9.83

**有效数字之间的运算**
- 准确值与准确值运算得准确值，可疑值与可疑值运算得可疑值
- 准确值与可疑值运算得可疑值，进位数字视为准确值
- 加减 保留小数点后位数最少的
- 乘除 保留有效数字最低的
- 乘方开方 保留精度与底数精度相同
- 对数 保留精度比真数精度多一位（或者相同）

不确定度有效数字只能取 1-2 位，不确定度第一位个有效数字是 1 或 2 时，取两位；是 3 及以上时，取 1 位

## 数据处理
列表、作图法  
逐差法（不是超级大邻差，那个只适用于计算含有 $\Delta s$ 的）  
残差 $\hat e_i=y_i-\hat y_i$，唯一一个“真实的-你以为的”，其他的都是“你以为的-真实的”  

相关系数 $r=\dfrac{\sum\limits(x_i-\bar x)(y_i-\bar y)}{\sqrt{\sum\limits(x_i-\bar x)^2}\sqrt{\sum\limits(y_i-\bar y)^2}}{}$  
$r \in [-1,1]$，相关系数越靠近 1，越线性正相关；相关系数越靠近-1，越线性负相关  

最小二乘法  
$\hat y=\hat bx+\hat a$，其中  
$\hat b=\dfrac{\sum\limits(x_i-\bar x)(y_i-\bar y)}{\sum\limits(x_i-\bar x)^2}{}$  
$\hat a=\bar y-\hat b\bar x$  

相关指数 $R^2=1-\dfrac{\sum\limits(y_i-\hat y)^2}{\sum\limits(y_i-\bar y)^2}{}$  
相关指数越大，残差平方和越小，拟合效果越好；相关指数越小，残差平方和越大，拟合效果越差  