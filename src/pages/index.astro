---
import { Quote } from 'astro-pure/advanced'
import { PostPreview } from 'astro-pure/components/pages'
import { getBlogCollection, sortMDByDate } from 'astro-pure/server'
import { Button, Card, Icon, Label } from 'astro-pure/user'
import PageLayout from '@/layouts/BaseLayout.astro'
import ProjectCard from '@/components/home/ProjectCard.astro'
import Section from '@/components/home/Section.astro'
import SkillLayout from '@/components/home/SkillLayout.astro'
import config, { highlightColor } from '@/site-config'

const language = ['Python', 'C / C++', 'MATLAB', 'LaTeX', 'HTML', 'MySQL']
const subject = ['MIMO', 'RL', 'CV', 'Math Analysis', 'OFDM', 'NLP']
const tool = ['VSCode', 'Obsidian', 'Zotero', 'Docker', 'VMware']
const design = ['SAI', 'FL Studio', 'Manim', 'Blender']

const MAX_POSTS = 10
const allPosts = await getBlogCollection()
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS)
---

<PageLayout meta={{ title: 'Home' }} highlightColor={highlightColor}>
  <main class='flex w-full flex-col items-center'>
    <section class='animate mb-10 flex flex-col items-center gap-y-3' id='content-header'>
      <img
        src='/avatar.png'
        alt='profile'
        class='avatar-hover h-28 w-28 rounded-full border p-1 object-cover'
        loading='eager'
      />
      <div class='flex flex-col items-center gap-y-4'>
        <h1 class='text-3xl font-bold'>{config.author}</h1>
        

        <div class='flex flex-wrap justify-center gap-x-7 gap-y-3'>
          <Label title='Beijing / Fuzhou' class='text-sm text-muted-foreground'>
            <Icon name='location' class='size-4' slot='icon' />
          </Label>
          <Label
            title='Project Repo.'
            as='a'
            href='https://github.com/Dingnuooo/astro-page'
            target='_blank'
            class='text-sm text-muted-foreground'
          >
            <Icon name='github' class='size-4' slot='icon' />
          </Label>
        </div>
        <!-- <Quote class='mt-12' /> -->
        <Quote/>
      </div>
    
      <!-- {/* Get template */}
      <a
        href='https://github.com/cworld1/astro-theme-pure'
        target='_blank'
        class='flex flex-row items-center gap-x-3 rounded-full border bg-background px-4 py-2 text-sm shadow-sm transition-shadow hover:shadow-md'
      >
        <span class='relative flex items-center justify-center'>
          <span
            class='absolute size-2 animate-ping rounded-full border border-green-400 bg-green-400 opacity-75'
          ></span>
          <span class='size-2 rounded-full bg-green-400'></span>
        </span>
        <p class='font-medium text-muted-foreground'>Get Template</p>
      </a> -->
    </section>

    <div id='content' class='animate flex flex-col gap-y-10 md:w-4/5 lg:w-5/6'>
      <Section title='About'>
        <p class='text-foreground'>Student in AI & Communication Engineering</p>
        <p class='text-muted-foreground'>
          欢迎光临。这里收容了一些在现实中由于种种原因无法释放的思绪。写一些笔记、讲义、灵感、藏书等文字内容。言不尽意，但我享受这与世界交互、转译和创造知识的过程，以及将这些独白分享与您的快乐。
        </p>
        <Button title='More about me' class='w-fit self-end' href='/about' variant='ahead' />
      </Section>
      {
        allPostsByDate.length > 0 && (
          <Section title='Posts'>
            <ul class='flex flex-col gap-y-1.5 sm:gap-y-2'>
              {allPostsByDate.map((p) => (
                <li class='flex flex-col gap-x-2 sm:flex-row'>
                  <PostPreview post={p} />
                </li>
              ))}
            </ul>
            <Button title='More posts' class='w-fit self-end' href='/blog' variant='ahead' />
          </Section>
        )
      }

      {
        /* <Section title='Experience'>
      <Card
        heading='Lorem Ipsum'
        subheading='Sit amet consectetur'
        date='Dec 2022 - Nov 2023'
        imagePath='/src/assets/about-astro.png'
        altText='Lorem, ipsum dolor sit'
        imageClass='h-12 w-auto md:-start-16'
      >
        <ul class='ms-4 list-disc text-muted-foreground'>
          <li>
            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolore debitis recusandae, ut
            molestiae laboriosam pariatur!

            <li>Lorem ipsum dolor sit amet consectetur adipisicing elit. Molestiae, pariatur!</li>
          </li>
        </ul>
      </Card>
      <Card
        heading='Lorem Ipsum'
        subheading='Sit amet consectetur'
        date='Dec 2022 - Nov 2023'
        imagePath='/src/assets/about-astro.png'
        altText='Lorem, ipsum dolor sit'
        imageClass='h-12 w-auto md:-start-16'
      />
    </Section> */
      }
      {
      //   <Section title='Education'>
      //   {/* <Card
      //     as='a'
      //     heading='Beijing Institute of Technology'
      //     subheading='School of Future Technology & Interdisciplinary Science'
      //     date='August 2023 - Present'
      //     href='https://bit.edu.cn'
      //   > */}
      //   <Card
      //     as='a'
      //     heading='Beijing Institute of Technology'
      //     subheading='School of Future Technology & Interdisciplinary Science'
      //     date='August 2023 - Present'
      //   >
      //     <img
      //       class='absolute end-0 z-0 m-0 -my-3 h-full w-1/2 object-cover opacity-20'
      //       src='/images/bit-logo.svg'
      //     />
      //   </Card>
      // </Section> 
      }

      <!-- <Section title='Website List'>
        <div class='grid grid-cols-1 gap-3 sm:grid-cols-2'>
          <ProjectCard
            href='https://www.youtube.com/watch?v=dQw4w9WgXcQ'
            heading='Lorem ipsum'
            subheading='Do not go gentle into that good night'
            imagePath='/src/assets/projects/1.avif'
          />
          <ProjectCard
            href='https://www.youtube.com/watch?v=dQw4w9WgXcQ'
            heading='Lorem ipsum'
            subheading='Old age burn and rave at close of day'
            imagePath='/src/assets/projects/2.avif'
          />
          <ProjectCard
            href='https://www.youtube.com/watch?v=dQw4w9WgXcQ'
            heading='Lorem ipsum'
            subheading='Rage, rage against the dying of the light'
            imagePath='/src/assets/projects/3.avif'
          />
          <ProjectCard
            href='/projects'
            heading='More projects'
            subheading='Check out more projects'
            imagePath='/src/assets/projects/4.avif'
          />
        </div>
      </Section>

      <Section title='Certifications'>
        <Card
          as='a'
          heading='Lorem ipsum'
          subheading='Lorem ipsum dolor sit amet, vidit suscipit at mei. Quem denique mea id. Usu ei regione indoctum dissentiunt, cu meliore fuisset mei, vel quod voluptua ne. Ex dicat impedit mel, at eum oratio possit voluptatum. Dicat ceteros cu vim. Impetus fuisset ullamcorper pri cu, his posse iisque ad, aliquam honestatis usu id.'
          date='July 2024'
          href='https://www.youtube.com/watch?v=dQw4w9WgXcQ'
        />
      </Section> -->



      <!-- <Section title='Papers'>
        <div class='text-muted-foreground'>希望在不远的将来，这里能够填上一些东西。你可以的。</div>
      </Section> -->


      <Section title='Skills'>
        <SkillLayout title='Programming' skills={language} />
        <SkillLayout title='Subjects' skills={subject} />
        <SkillLayout title='Tools' skills={tool} />
        <SkillLayout title='Design' skills={design} />
      </Section>
    </div>
  </main>
</PageLayout>

<style>
  .avatar-hover {
    transition: all 0.3s ease;
  }

  .avatar-hover:hover {
    transform: scale(1.1);
    box-shadow: 0 0 10px 2px rgba(var(--highlight-color-rgb, 214, 231, 255), 0.4);
  }
</style>
